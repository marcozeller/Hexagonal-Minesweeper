import{s as A,n as y,b as N,f as P}from"../chunks/scheduler.bc760b9c.js";import{S as M,i as C,e as w,a as _,f as h,g as m,m as q,h as g,j as p,n as z,k as v,x as k,o as B,y as F,d as u,b as H,t as d,z as S,s as G,c as J,p as j,A as K,r as L,u as O,v as Q,w as R}from"../chunks/index.d725bfc2.js";function b(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function T(a){let o,s;return{c(){o=m("div"),s=q(a[1]),this.h()},l(n){o=g(n,"DIV",{class:!0});var l=p(o);s=z(l,a[1]),l.forEach(h),this.h()},h(){v(o,"class","hexagon open svelte-xwb96t")},m(n,l){_(n,o,l),k(o,s)},p(n,l){l&2&&B(s,n[1])},d(n){n&&h(o)}}}function U(a){let o,s;return{c(){o=m("div"),s=q(a[1]),this.h()},l(n){o=g(n,"DIV",{class:!0});var l=p(o);s=z(l,a[1]),l.forEach(h),this.h()},h(){v(o,"class","hexagon red svelte-xwb96t")},m(n,l){_(n,o,l),k(o,s)},p(n,l){l&2&&B(s,n[1])},d(n){n&&h(o)}}}function W(a){let o,s,n;return{c(){o=m("div"),this.h()},l(l){o=g(l,"DIV",{class:!0}),p(o).forEach(h),this.h()},h(){v(o,"class","hexagon hidden svelte-xwb96t")},m(l,e){_(l,o,e),s||(n=F(o,"click",a[2]),s=!0)},p:y,d(l){l&&h(o),s=!1,n()}}}function X(a){let o;function s(e,t){if(e[0]=="hidden")return W;if(e[0]=="open"&&e[1]=="mine")return U;if(e[0]=="open")return T}let n=s(a),l=n&&n(a);return{c(){l&&l.c(),o=w()},l(e){l&&l.l(e),o=w()},m(e,t){l&&l.m(e,t),_(e,o,t)},p(e,[t]){n===(n=s(e))&&l?l.p(e,t):(l&&l.d(1),l=n&&n(e),l&&(l.c(),l.m(o.parentNode,o)))},i:y,o:y,d(e){e&&h(o),l&&l.d(e)}}}function Y(a,o,s){let{content:n}=o,{state:l}=o,{x:e}=o,{y:t}=o;const c=()=>{console.log(`clicked on ${e}, ${t}`),s(0,l="open")};return a.$$set=i=>{"content"in i&&s(1,n=i.content),"state"in i&&s(0,l=i.state),"x"in i&&s(3,e=i.x),"y"in i&&s(4,t=i.y)},[l,n,c,e,t]}class Z extends M{constructor(o){super(),C(this,o,Y,X,A,{content:1,state:0,x:3,y:4})}}function D(a,o,s){const n=a.slice();return n[2]=o[s],n[4]=s,n}function E(a,o,s){const n=a.slice();return n[5]=o[s],n[6]=o,n[7]=s,n}function I(a){let o,s,n;function l(t){a[1](t,a[5])}let e={content:a[5].content,x:a[4],y:a[7]};return a[5].state!==void 0&&(e.state=a[5].state),o=new Z({props:e}),N.push(()=>K(o,"state",l)),{c(){L(o.$$.fragment)},l(t){O(o.$$.fragment,t)},m(t,c){Q(o,t,c),n=!0},p(t,c){a=t;const i={};c&1&&(i.content=a[5].content),!s&&c&1&&(s=!0,i.state=a[5].state,P(()=>s=!1)),o.$set(i)},i(t){n||(u(o.$$.fragment,t),n=!0)},o(t){d(o.$$.fragment,t),n=!1},d(t){R(o,t)}}}function V(a){let o,s,n,l=b(a[2]),e=[];for(let c=0;c<l.length;c+=1)e[c]=I(E(a,l,c));const t=c=>d(e[c],1,1,()=>{e[c]=null});return{c(){o=m("div");for(let c=0;c<e.length;c+=1)e[c].c();s=G(),this.h()},l(c){o=g(c,"DIV",{class:!0});var i=p(o);for(let f=0;f<e.length;f+=1)e[f].l(i);s=J(i),i.forEach(h),this.h()},h(){v(o,"class","row svelte-1ndgb09")},m(c,i){_(c,o,i);for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,null);k(o,s),n=!0},p(c,i){if(i&1){l=b(c[2]);let f;for(f=0;f<l.length;f+=1){const x=E(c,l,f);e[f]?(e[f].p(x,i),u(e[f],1)):(e[f]=I(x),e[f].c(),u(e[f],1),e[f].m(o,s))}for(j(),f=l.length;f<e.length;f+=1)t(f);H()}},i(c){if(!n){for(let i=0;i<l.length;i+=1)u(e[i]);n=!0}},o(c){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)d(e[i]);n=!1},d(c){c&&h(o),S(e,c)}}}function $(a){let o,s,n=b(a[0]),l=[];for(let t=0;t<n.length;t+=1)l[t]=V(D(a,n,t));const e=t=>d(l[t],1,1,()=>{l[t]=null});return{c(){o=m("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){o=g(t,"DIV",{class:!0});var c=p(o);for(let i=0;i<l.length;i+=1)l[i].l(c);c.forEach(h),this.h()},h(){v(o,"class","field svelte-1ndgb09")},m(t,c){_(t,o,c);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(o,null);s=!0},p(t,[c]){if(c&1){n=b(t[0]);let i;for(i=0;i<n.length;i+=1){const f=D(t,n,i);l[i]?(l[i].p(f,c),u(l[i],1)):(l[i]=V(f),l[i].c(),u(l[i],1),l[i].m(o,null))}for(j(),i=n.length;i<l.length;i+=1)e(i);H()}},i(t){if(!s){for(let c=0;c<n.length;c+=1)u(l[c]);s=!0}},o(t){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)d(l[c]);s=!1},d(t){t&&h(o),S(l,t)}}}let r=8,ee=20;function te(a,o,s){let n=Array(r).fill(null);for(let e=0;e<r;e++)n[e]=Array(r).fill(null);for(let e=0;e<r;e++)for(let t=0;t<r;t++)n[e][t]={state:"hidden",content:0};for(let e=0;e<ee;e++){let t=Math.floor(Math.random()*r),c=Math.floor(Math.random()*r);if(n[t][c].content==="mine"){e--;continue}n[t][c]={state:"hidden",content:"mine"}}for(let e=0;e<r;e++)for(let t=0;t<r;t++)n[e][t].content!=="mine"&&(t>0&&n[e][t-1].content==="mine"&&n[e][t].content++,t<r-1&&n[e][t+1].content==="mine"&&n[e][t].content++,e%2==0?(e>0&&n[e-1][t].content==="mine"&&n[e][t].content++,e>0&&t<r-1&&n[e-1][t+1].content==="mine"&&n[e][t].content++,e<r-1&&n[e+1][t].content==="mine"&&n[e][t].content++,e<r-1&&t<r-1&&n[e+1][t+1].content==="mine"&&n[e][t].content++):e%2==1&&(e>0&&t>0&&n[e-1][t-1].content==="mine"&&n[e][t].content++,e>0&&n[e-1][t].content==="mine"&&n[e][t].content++,e<r-1&&t>0&&n[e+1][t-1].content==="mine"&&n[e][t].content++,e<r-1&&n[e+1][t].content==="mine"&&n[e][t].content++));function l(e,t){a.$$.not_equal(t.state,e)&&(t.state=e,s(0,n))}return[n,l]}class oe extends M{constructor(o){super(),C(this,o,te,$,A,{})}}export{oe as component};
